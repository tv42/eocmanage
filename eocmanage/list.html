<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:nevow="http://nevow.com/ns/nevow/0.1">
  <head>
    <title>
      <nevow:invisible nevow:render="i18n">Mailing List</nevow:invisible> <nevow:invisible nevow:render="string" nevow:data="name"/>
    </title>
    <link rel="stylesheet" type="text/css" href="_freeform.css" />
    <link rel="stylesheet" type="text/css" href="_style/eocmanage.css" />
  </head>
  <body>
    <h1>
      <nevow:invisible nevow:render="i18n">Mailing List</nevow:invisible>
      <nevow:invisible nevow:render="string" nevow:data="name"/>
    </h1>

    <p><a href="../" nevow:render="i18n">all lists</a></p>

    <nevow:invisible nevow:render="statusmessage"/>

    <nevow:invisible nevow:render="if" nevow:data="description">
      <p class="eocmanage-list-description" nevow:pattern="True" nevow:render="string"/>
    </nevow:invisible>

    <h2 nevow:render="i18n">Using the List</h2>
    <p>
      <nevow:invisible nevow:render="i18n">To post a message to the list, send email to</nevow:invisible>
      <a><nevow:attr name="href">mailto:<nevow:invisible nevow:render="string" nevow:data="name"/></nevow:attr><nevow:invisible nevow:render="string" nevow:data="name"/></a>.
    </p>

    <nevow:invisible nevow:render="ifOwner">
      <nevow:invisible nevow:pattern="False">
	<h2 nevow:render="i18n">Subscribing to the List</h2>
	<p>
	  <span nevow:render="i18n">To subscribe or unsubscribe, type your address and press the corresponding button.</span>

	  <span nevow:render="i18n">As extra protection, you will be sent an email, and the action will only be performed <em>after</em> you have confirmed it by replying to the message.</span>
	</p>
	<div class="eocmanage-user" nevow:render="form_user"/>
      </nevow:invisible>
      <nevow:invisible nevow:pattern="True">
	<h2 nevow:render="i18n">List Administration</h2>
	<div class="eocmanage-owner" nevow:render="form_owner"/>
	<nevow:invisible nevow:render="ifAdmin">
	  <nevow:invisible nevow:pattern="True">
	    <div class="eocmanage-admin" nevow:render="form_admin"/>
	  </nevow:invisible>
	</nevow:invisible>

	<h2 nevow:render="i18n">Current Subscribers</h2>
	<table class="eocmanage-owner" nevow:render="sequence" nevow:data="list">
	  <tr nevow:pattern="header" nevow:render="zebra">
	    <!-- th nevow:render="i18n">Name</th -->
	    <th nevow:render="i18n">Address</th>
	  </tr>
	  <tr nevow:pattern="item" nevow:render="zebra">
	    <!-- td>
	      TODO full name here
	    </td -->
	    <td>
	      <a>
		<nevow:attr name="href">mailto:<nevow:invisible nevow:render="string" /></nevow:attr>
		<nevow:invisible nevow:render="string" />
	      </a>
	    </td>
	  </tr>
	  <tr nevow:pattern="empty" nevow:render="zebra"><td colspan="2" nevow:render="i18n">No subscribers.</td></tr>
	</table>
      </nevow:invisible>
    </nevow:invisible>

    <p class="eocmanage-footer">
      <span nevow:render="i18n">These lists are managed by</span>
      <a href="http://liw.iki.fi/liw/eoc/">EoC</a>,
      <span nevow:render="i18n">web interface is powered by</span>
      <a href="http://www.inoi.fi/open/trac/eocmanage">eocmanage</a>.
    </p>
  </body>
</html>
